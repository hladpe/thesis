# Úvod

# Cíl a metodika práce

# Teoretická východiska práce

## Internet
Internet je celosvětová síť (desítky tisíc jednotlivých sítí – možná i mnohem více) propojující všechny kontinenty, státy a města tak, že jakýkoliv počítač může kdykoliv komunikovat s jakýmkoliv jiným počítačem, ať je kdekoliv na planetě.
Internet nikdo neřídí, funguje díky tomu, že všichni lidé mají společný zájem – chtějí být propojeni.

Co je Internet a jak funguje? _Datacentrum WEDOS_ [online]. Hluboká nad Vltavou, 2010 [cit. 2016-04-01]. Dostupné z: http://datacentrum.wedos.com/a/17/co-je-internet-jak-funguje.html


### Vznik internetu 
První předchůdce internetu (Arpanet), vznikl v roce 1969. Vytvořila ho instituce Advanced Research Project Agency (ARPA). Jeho vznik zaštiťovalo Ministerstvo obrany USA. Tato síť byla z počátku použita pouze pro vědecké účely, následně z ní vznikly dvě samostatné sítě - Arpanet a Milnet (armádní síť). V roce 1981 vnikla síť Bitnet, která propojovala americké vysoké a střední školy. Avšak v těchto sítích vznikl problém komunikace na různých platformách. Proto po intenzivních výzkumech vznikl protokol TCP/IP, který je používám dodnes. Samotný vznik internetu v podobě, jak ho známe dnes, je datován od roku 1993, kdy Tom Berners Lee vymyslel nový způsob výměny informací, ten je známý pod zkratkou WWW (World Wide Web).
https://home.zcu.cz/~tisarova/

Internet se v České republice začal rozšiřovat až na přelomu let 1995 a 1996, kdy na trh vstoupili komerční poskytovatelé internetového připojení. I přes to, že v těchto letech byla Česká republika připojena k internetu již 3 roky, ke komerčnímu používání internetu došlo až po pádu společnosti Eurotel, jejíž monopol se vztahoval mimo jiné i na veřejné služby přenosu dat.
https://home.zcu.cz/~tisarova/


### Služby na internetu
Služeb na internetu lze využit celá řada. Zde jsou vysvětleny některé služby, které jsou hojně využívané pro komerční využití.

Sedláček, J. (2006).E-komerce, internetový a mobil marketing od A do Z. 1. vyd. Praha: BEN -technická literatura.

#### World Wide Web (WWW)
Označení pro vzájemně provázený multimediální obsah poskytovaný pomocí protokolu HTTP. Uživatelé obsah konzumují pomocí webových prohlížečů.
https://is.muni.cz/do/ics/el/sitmu/law/html/sluzby-internetu.html

#### E-mail
Zasílání textových zpráv mezi jednotlivými uživateli internetu je k dispozici již od raných dob internetu. Dnes je zajišťován pomocí protokolu SMTP, který byl vyvinut v 70. letech.
https://is.muni.cz/do/ics/el/sitmu/law/html/sluzby-internetu.html

Díky své rychlosti, nízkým nákladům, pohodlí a snadnému archivování je dnes pro firmy základním komunikačním nástrojem. Lze mimo jiné možné například využít k potvrzení přijaté objednávky z internetového obchodu. 

Sedláček, J. (2006).E-komerce, internetový a mobil marketing od A do Z. 1. vyd. Praha: BEN -technická literatura.

#### Instant masseging (IM)
Instant messaging je technologie, která formou aplikace umožňuje uživatelům sledovat, kteří uživatelé jsou připojeni k síti a dle potřeby s těmito uživateli komunikovat, například zasláním zprávy (chatovat) nebo posílat soubory. Umožňuje tedy komunikovat přes síť mezi uživateli v reálném čase.
http://wiki.knihovna.cz/index.php/Instant_messaging

Některé aplikace dovolují uživatelům i použití webových kamer a mikrofonů a díky tomu je služba ještě více populární. Pro některé uživatele je tato technologie přijatelnější, než okamžitá komunikace, protože ji vnímají méně dotěrnější, než například komunikace před telefon.

http://wiki.knihovna.cz/index.php/Instant_messaging

#### Telefonování přes internet
Díky rozšíření internetu do firem, je možné telefonovat přes internet. Postupně tak vznikly 3 základní možnosti telefonování s využitím internetu - telefonování z počítače na počítač, z počítače na telefon a telefonování přes internet prostřednictvím mobilního telefonu. Hlavní výhodou telefonování přes internet je snížení nákladů na volání.
Sedláček, J. (2006).E-komerce, internetový a mobil marketing od A do Z. 1. vyd. Praha: BEN -technická literatura.

#### Sociální služby
_,,Sociální síť je internetová služba, která registrovaným uživatelům umožňuje komunikovat mezi sebou. Komunikace může být veřejná nebo soukromá, je zpravidla založena na sdílení textových příspěvků, fotografií a videa."_
https://www.zive.cz/socialni-site/sc-223/default.aspx


### Webový prohlížeč
Webový prohlížeč je program v počítači, který dokáže zobrazit webovou stránku. Existuje jich několik, např. Internet Explorer, Mozilla Firefox, Chrome, Safari, Opera a další.

HEROUT, Tomáš. Co je to internetový prohlížeč. Help Mark [online]. 2013 [cit. 2016-04-01]. Dostupné z: http://www.helpmark.cz/slovnikpojmu/33-internetovy-prohlizec

### Webová stránka
Webová stránka je označení dokumentu s informacemi, který je dostupný pomocí internetu a webového prohlížeče a pro návštěvníka webové stránky je prezentován estetickým a čitelným způsobem.
Webová stránka (Internetová stránka). Management Mania [online]. 2012 [cit. 2016-04-01]. Dostupné z: https://managementmania.com/cs/webova-stranka-internetova


Webové stránky se používají pro různé účely, jak pro individuální použití, tak firemní a mohou být buď statické, nebo dynamicky generované.
Definice statické webové stránky. Myartse.com [online]. 2014 [cit. 2016-04-01]. Dostupné z: http://www.myartse.com/definice-staticke-webove-stranky/


Statická webová stránka je stránka, kde je veškerý obsah pevně kódován do samotné stránky. Tyto stránky jsou obvykle kódované pouze za použití HTML (HyperText Markup Language).
Definice statické webové stránky. Myartse.com [online]. 2014 [cit. 2016-04-01]. Dostupné z: http://www.myartse.com/definice-staticke-webove-stranky/


Dynamické webové stránky jsou generovány skriptem, který sám sestavuje HTML dokument. Tento dokument může vygenerovat například za použití dat z databáze. Dynamické webové stránky lze vytvářet za použití několika programovacích jazyků, včetně PHP.

Definice statické webové stránky. Myartse.com [online]. 2014 [cit. 2016-04-01]. Dostupné z: http://www.myartse.com/definice-staticke-webove-stranky/

### Hypertext
„_Text, ve kterém fungují některé výrazy jako odkazy. Prostřednictvím těchto odkazů se přenesete na jinou část dokumentu nebo na úplně nový dokument“_ (14).

Hypertext. IT Slovník [online]. 2013 [cit. 2016-04-01]. Dostupné z: http://it-slovnik.cz/pojem/hypertext


## SEO
TODO: SEO

## E-commerce
E-commerce je široký pojem, který se používá k označení veškerých obchodních transakcí realizovaných pomocí internetu a elektronických prostředků. E-commerce patří do rodiny e-business (elektronického podnikání).
http://www.adaptic.cz/znalosti/slovnicek/e-commerce/

### E-shop
E-shop je elektronický internetový obchod v podobě speciální webové aplikace, která slouží ke zprostředkování obchodních transakcí prostřednictvím internetu.
http://www.adaptic.cz/znalosti/slovnicek/e-shop/

Základem je katalog výrobků, který je obvykle řazený do kategorií. V těchto kategoriích se pak nacházejí jednotlivé produkty, které jsou nabízeny zákazníkovi k zakoupení. Ze  zákona musí být na e-shopu také další informace, jako jsou například kontaktní údaje, obchodní podmínky apod. Poté, co si uživatel vybere svůj produkt, dochází k nákupnímu procesu. Prvním krokem je přidání produktu do tzv. košíku (elektronická podoba klasického nákupního košíku), zde se shromažďují vybrané produkty. Poté uživatel vyplní doručovací a fakturační údaje (v některých případech lze využít uživatelský účet a uživatelovy údaje jsou doplněny automaticky). Propracovanější e-shopy dolují i například odložit nákup na později nebo zaplatit rovnou pomocí platební karty.
http://www.adaptic.cz/znalosti/slovnicek/e-shop/

### Modely e-commerce
_,,Existují čtyři základní modely elektronického obchodování, které využívají prostředí internetu a možnosti moderních informačních a komunikačních technologií. Modely jsou definovány pomocí směru marketingové komunikace - od koho vychází a komu je určena."_
https://managementmania.com/cs/e-commerce

_,,Patří sem i většina činností spadajících pod elektronický marketing, např. online reklama, email marketing, nejrůznější affiliate programy a všechny aktivity na podporu internetového obchodování. V širším pojetí mohou do pojmu e-commerce patřit i jakékoliv webové stránky, které nabízí konkrétní produkty či služby a umožňují i jejich objednávku například emailem."_
https://managementmania.com/cs/e-commerce

#### B2B (Business to Business)
B2B označuje obchodní vztah mezi dvěma podniky. Tento obchodní vztah se odehrává zpravidla prostřednictvím internetu. Typické pro řešení tohoto obchodního vztahu je elektronická výměna dat, například fakturace, řízení skladů, online bankovnictví, online katalogy, online aukce a propojování podnikových informačních systémů.

https://managementmania.com/cs/business-to-business

Týká se firem, které chtějí nakupovat (například materiál nebo zboží) z důvodu zisku. Poptávka je ovlivněna množstvím zakázek, které má jeden z partnerů.

https://www.altaxo.cz/provoz-firmy/marketing/co-jsou-zkratky-b2c-b2b-b2g-b2e

Tento obchodní vztah nemá přímý vliv na konečného spotřebitele. Nejdůležitějším úkonem v B2B marketingu patří budování důvěry. 

https://mladypodnikatel.cz/b2b-b2c-b2g-c2b-b2a-b2e-b2r-c2c-c2g-g2b-g2c-g2g-t950

#### B2C (Business to Customer)
B2B je označení pro model elektronického podnikání, který se zaměřuje na koncové klienty. Protikladem je B2B business. Iniciativa k obchodu vychází směrem od podniku a cílovou skupinou jsou zákazníci (spotřebitelé). Obchodní vztah se odehrává prostřednictvím internetu. Internetové stránky zprostředkovatelů jsou zákazníkům snadno dostupné a mohou nabízet zákazníkům informace a jednoduchý způsob nákupu. Internet umožňuje zákazníkům porovnávat nabídky různých prodejců. 
https://managementmania.com/cs/business-to-customer


Samotná kategorie je rozdělena do tří kategorií. Do první kategorie spadá informování potenciálního zákazníka o produktech. Druhou kategorií je získávání zpětné vazby skrz různé formuláře. Třetí a největší kategorií je uzavření celého obchodu s možností objednání a zaplacení zboží.

https://mladypodnikatel.cz/b2b-b2c-b2g-c2b-b2a-b2e-b2r-c2c-c2g-g2b-g2c-g2g-t950

B2C je zřejmě nejrozšířenější forma internetového podnikání. Jedná se o přímý prodej a podpora zákazníkovi. 

https://www.altaxo.cz/provoz-firmy/marketing/co-jsou-zkratky-b2c-b2b-b2g-b2e


#### C2B (Customer to Business)
C2B je model elektronického podnikání, kdy iniciativa pochází od zákazníků (spotřebitelů) směrem k firmám. Zákazníci kontaktují firmy a vznášejí dotazy, podněty a náměty, například pro inovaci výrobků nebo služeb firmy. Takový model lze podpořit například zřízením diskuzního fóra nebo účet na sociálních sítích.
https://managementmania.com/cs/customer-to-business

#### C2C (Customer to Customer)
C2C je druh elektronického obchodování, ve kterím probíhá obchodní vztah mezi dvěma spotřebiteli a to většinou prostřednictvím třetí strany. Iniciativa přitom vychází od jednoho spotřebitele směrem k jinému spotřebiteli. Příkladem takovýchto obchodních vztahů jsou například online burzy, aukce a výměny zboží. 
https://managementmania.com/cs/customer-to-customer

### Vývoj e-commerce
_,,Nakupování online je globální a rapidně rostoucí fenomén. Na světě žije téměř 7,5 mld. lidí, z toho 3,5 mld. lidí používá internet a přes 1,5 miliardy lidí nakupuje online."_
http://www.edotace.cz/clanky/e-commerce-svetovy-obchod-online

Nakupování zboží a služeb přes internet se stává samozřejmostí. Svědčí o tom neustále rostoucí počet nákupů online a díky tomu i stále se zvyšující tržby online obchodů. Vedle klasických e-shopů se rozvíjí i další internetové služby související s internetovým prodejem, jako jsou například zásilkovny (uloženky), kde je možné si objednané zboží vyzvednout. Dále se rozvíjí i rozvážkové služby, například rozvoz jídel nebo potravin. Spolu s internetovým prodejem se rozvíjí i srovnávače cen, agregátory nabídek zboží nebo služeb a další.

http://www.edotace.cz/clanky/e-commerce-svetovy-obchod-online


Pro e-commerce hraje velkou roli sezónnost prodeje s velkým významem vánoc - obvykle e-shopy utrží za poslední 4 měsíce přibližně stejně, jako za předchozích 8 měsíců. V poslední jsou ale sezónní rozdíly vyrovnávány nákupy zboží denní potřeby. Nejslabšími měsíci v tržbách e-shopů jsou většinou letní měsíce.

http://www.edotace.cz/clanky/e-commerce-svetovy-obchod-online


_,,Podle serveru eMarketer se maloobchodní globální online tržby přiblížily v roce 2016 úrovni 1,9 bilionu dolarů a do roku 2020 by se měly zdvojnásobit na 4 bil. dolarů. I tak se e-commerce tržby budou podílet na celkových maloobchodních tržbách jen 14,6 %. Největším světovým online trhem je Čína, jejíž podíl poroste i do budoucna. Následuje online trh v USA."_

http://www.edotace.cz/clanky/e-commerce-svetovy-obchod-online

### E-commerce v České republice
Dlouhodobě roste počet Čechů s přístupem k internetu. V roce 2016 se počet uživatelů internetu v České republice oproti roku 2010 zvýšil zhruba o 15% a díky tomu se Česká republika počtem uživatelů internetu přiblížila průměru v Evropské unii. 

http://www.edotace.cz/clanky/e-commerce-svetovy-obchod-online

_,,Mezi ekonomicky aktivními, vysokoškolsky vzdělanými a mladými do 30 let užívají dnes internet už téměř všichni."_

http://www.edotace.cz/clanky/e-commerce-svetovy-obchod-online

V roce 2016 mělo 76,1% domácností v České republice přístup k internetu. Také roste obliba v nakupování přes internet. V roce 2007 podle průzkumu ČSÚ za poslední rok nakoupilo přes internet 15% obyvatel starších 16 let. V roce 2010 jich nakoupilo již 25% a v roce 2017 již 43%. 

http://www.edotace.cz/clanky/e-commerce-svetovy-obchod-online

## E-commerce z pohledu obchodníků
Hlavní výhodou pro provozovatele e-shopů je široká působnost a v podstatě neomezená otevírací doma. E-shop může s přehledem prodávat po celé zemi (a v mnoha případech i za hranicemi). Internetový obchod tedy nemusí být limitován žádným konkrétním místem. Široká působnost se pak pozitivně odráží v marketingu, kdy umožňuje širší širší zásah při nižších nákladech na propagaci. Na internetu lze snadno měřit efektivitu reklamy a konfigurovat ji v závislosti na těchto výsledcích a potřebách zákazníka.

https://www.podnikatel.cz/clanky/prectete-si-hlavni-vyhody-a-nevyhody-e-shopu-jak-je-vidi-jejich-provozovatele/

Na e-shop lze uvést o produktu mnoho informací a nabídnout i komponenty a substituty konkrétního produktu. Zároveň mají v porovnání s kamennými prodejnami i nižší náklady na provoz. Ale i zde platí, že čím více se bude byznys rozšiřovat, tím se budou i náklady na provoz přibližovat k nákladům za provoz kamenné prodejny.

https://www.podnikatel.cz/clanky/prectete-si-hlavni-vyhody-a-nevyhody-e-shopu-jak-je-vidi-jejich-provozovatele/

Jako určitou nevýhodu lze na internetu označit ceny produktů. Díky cenovým srovnávačům může zákazník jednoduše vidět cenové rozdíly s konkurencí. Pokud by chtěl srovnávat ceny zboží v kamenných prodejnách, stálo by to zákazníka mnohem více úsilí a času, proto si lze v kamenných prodejnách dovolit vyšší cenu produktu oproti konkurenci.

https://www.podnikatel.cz/clanky/prectete-si-hlavni-vyhody-a-nevyhody-e-shopu-jak-je-vidi-jejich-provozovatele/

### Založení a provoz e-shopu
Základní kroky, které jsou potřeba podniknout k založení a úspěšnému provozování e-shopu, kterými by se měli podnikatelé zakládající e-shop zabývat:
- vypracovat podnikatelský plán (včetně cílů, strategií a financování),
- právní ošetření podnikání, registrace na příslušných úřadech,
- výběr technického řešení e-shopu (open-source, programování na zakázku, pronájem)
- výběr a nákup vhodné domény a poskytovatele hostingových služeb,
- výběr vhodných dodavatelů (výrobků i spotřebního materiálu),
- zajištění vhodné formy distribuce,
- promyslet koncept e-shopu (struktura, funkce, bezpečnost, dostupnost),
- vztvoření vzhledu a účelného obsahu (copyright, SEO, obchodní podmínky)

Sedlák, M., Mikulášková, P. (2012). Jak vytvořit úspěšný a výdělečný internetový obchod. 1. vyd. Brno: Computer Press.

#### Open-source
Největším lákadlem řešení open-cource je jeho cena, protože toto řešení je zdarma. Zdarma jsou základní moduly, které vystačí na běžné potřeby e-shopu. Zdarma mohou být i další rozšíření a pluginy. Další výhodou je otevřený kód, který lze libovolně modifikovat a rozvíjet dle vlastních požadavků. Open-source e-commerce řešení tedy využijí ti, kteří chtějí levný, jednoduchý e-shop a nebudou požadovat víc, než jsou jeho základní funkce. Dále toto řešení využijí ti, kteří chtějí použít otestované řešení jako solidní základ pro vlastní platformu, kterou budou dále chtít sami rozvíjet.
https://mladypodnikatel.cz/open-source-reseni-pro-e-shop-kdy-ho-zvolit-a-jak-se-pri-vyberu-nespalit-t33530

Open-source ale neznamená e-shop zdarma nebo nulové náklady. I správa svobodného softwaru bude potřebovat zkušeného vývojáře, který se dokáže orientovat v cizím kódu, zná architekturu aplikace a aby požadovanou úpravu provedl dobře a nezanesl do aplikace další chyby.

https://mladypodnikatel.cz/open-source-reseni-pro-e-shop-kdy-ho-zvolit-a-jak-se-pri-vyberu-nespalit-t33530

Bohužel se svobodný software v sobě ukrývá i své nevýhody - kolísající kvalita kódu a dostupnost podpory. Díky tomu, že lze do kódu libovolně zasahovat, žádné open-source řešení nezaručí, že bude fungovat bez chyb a nečekaných pádů. Veřejně přístupný kód také přitahuje pozornost útočníků, kteří vyhledávají bezpečnostní chyby. 
https://mladypodnikatel.cz/open-source-reseni-pro-e-shop-kdy-ho-zvolit-a-jak-se-pri-vyberu-nespalit-t33530

#### E-shop na míru
E-shop na míru má tu výhodu, že přesně odpovídá požadavkům zadavatele. Na počátku může zadavatel přesně specifikovat, jakou funkcionalitu požaduje. Tím se například liší od krabicového řešení, protože vznikne systém, který přesně splňuje potřeby zadavatele.

https://www.shoptet.cz/tvorba-e-shopu-na-miru/

E-shop na míru je ale poměrně drahá varianta k vytvoření vlastního e-shopu. Většinou se tak spíše vyplatí u velkých společností, kteří mají dostatek peněz na takovouto investici.

https://www.shoptet.cz/tvorba-e-shopu-na-miru/

_,,E-shop na míru je pro podnikatele ta nejlepší varianta pod podmínkou, že na ni má."_
https://www.desitka.cz/text-proc-si-ne-poridit-e-shop-na-miru/

#### Pronájem e-shopu
Pronájmu e-shopu se také říká krabicové řešení e-shopu. Lze s ním začít podnikat téměř okamžitě, pronajímají se za danou měsíční částku. Krabicově řešené e-shopy jsou již hotové a funkční. Stačí je jen nastavit a naplnit produkty. Mezi hlavní výhody patří minimální starosti s e-shopem, bezpečnost, spolehlivost a dopředu stanovená cena pronájmu. Nevýhodami tohoto řešení je menší možnost úprav a fakt, že e-shop nepatří nájemníkovi. Je tedy vhodnou formou k vytvoření e-shopu spíše začínajícím podnikatelům.

https://www.desitka.cz/text-proc-si-ne-poridit-e-shop-na-miru/

### Online marketing
Online marketing je označení pro propagaci produktů nebo služeb na internetu.
https://www.mioweb.cz/slovnicek/online-marketing/

Rozdělení online marketingu:
- Inbound marketing – dlouhodobé formování a podpora vztahu s potenciálními zákazníky, například pomocí různého obsahu pomáhá, vzdělává nebo baví (populární obsahový marketing),
- Outbound marketing - zaměřuje se naopak na efektivní propagaci produktu neb služby.
https://www.mioweb.cz/slovnicek/online-marketing/

Hlavní nástroje online marketingu:
- Internetové stránky - jádro prezentace na internetu,
- Sociální sítě - oslovávání potěnciálních zákazníků přes udržované a aktualizované stránky s poutavými příspěvky nebo reklamou,
- E-mail marketing - dlouhodobě úspěšná metoda založená na prohlubování vztahu mezi odesílatelem a příjemcem (potenciálním zákazníkem) například formou newsletterů,
- PPC kampaně - (výkonnostní marketing) umístění textových sdělení nebo bannerů v obsahové nebo vyhledávací síti, čímž si inzerent získává pozornost uživatelů,
- Affiliate marketing - získávání nových zákazníků od partnerů pomocí provozního systému,
- SEO - optimalizace pro vyhledávače, optimalizace faktorů ovlivňujících zviditelnění webu ve výsledcích vyhledávání.
https://www.mioweb.cz/slovnicek/online-marketing/


## E-commerce z pohledu zákazníků
_,,Internet je jako obchodní místo unikátní hned v několika směrech: např. koncentrace obchodů na jednom místě. Všechny jsou okamžitě dosažitelné, nekoupím-li v prvním, mohu bez námahy pokračovat v objevování další nabídky, jako kdybych jel na druhý konec města nebo dokonce světa. Existuje možnost rychlého porovnání sortimentu a cen. Rychlý přehled konkurence v oboru, jen na základě zadání třeba jednoho klíčového slova."_
https://www.interval.cz/clanky/e-shop-z-pohledu-zakaznika/

### Výhody a omezení
Základní výhody e-commerce pro zákazníky:
- nižší ceny produktů a služeb, možnost okamžitého srovnání cen s konkurencí,
- možnost většího výběru produktů a obchodníků, 
- větší pohodlí a úspora času - snadná dostupnost k nákupu, možnost nakupovat kdykoli a odkudkoli,
- snadné získání detailních informací o produktů a službách,
- možnost rychlého dodání,
- slevy a výhody pro zákazníky,

Švadlenka, L., Madleňák, R. (2007). Elektronické obchodování. Pardubice: Institut Jana Pernera

Základní nevýhody e-commerce pro zákazníky:
- zákazníci si nemohou zboží osahat a ozkoušet,
- nabízené zboží není skladem,
- někteří zákazníci se bojí problémů s reklamací nebo vrácením zboží,
- obava ze zneužití kreditní karty,
- zákazník potřebuje poradit s výběrem zboží a nemá se na koho obrátit.

https://www.danielnytra.cz/eshop-testovano-na-lidech/


### Důvěryhodnost e-shopu
Během pouhých prvních pár vteřin návštěvník internetových stránek zhodnotí, zda je pro něj e-shop důvěryhodný a zajímavý.  Navíc je pro zákazníky velice důležité, komu poskytnou osobní údaje a informace o platební kartě. Z toho důvodu je potřeba, aby webové stránky působily důvěryhodně.
https://blog.eshop-rychle.cz/duveryhodnost-bezpecnost-eshopu-https/

Doporučované základní úpravy pro obecné zvýšení důvěryhodnosti e-shopu:
- propracovaný design webu, aktualizovaný jednoduchý přehledný a nepříliš agresivní vzhled,
- vizuální kontakt s člověkem nebo maskotem,
- aktuálnost e-shopu,
- zakomponování bezpečnostního symbolu,
- přidání možnosti snadného kontaktu.
https://www.radeksikyr.cz/blog/6-uprav-kterymi-zvysite-duveryhodnost-e-shopu/

_,,Důvěryhodný je takový e-shop, který působí moderně, aktivně, stará se o své zákazníky a umožňuje jim kontakt, kdykoli je potřeba. Zároveň za ním stojí konkrétní sympatičtí lidé s příběhem. Zapracujte tyto úpravy na svůj e-shop a uvidíte pozitivní vliv na obrat i pokles míry okamžitého opuštění stránek. A pokud chcete získat ještě více objednávek, nezapomeňte vytvořit perfektní stránku O nás"_
https://www.radeksikyr.cz/blog/6-uprav-kterymi-zvysite-duveryhodnost-e-shopu/

## Hypertext Markup Language – HTML
HTML je značkovací jazyk pro hypertext. Je jedním z jazyků, které umožňují vytvářet dokumenty, které je pak možné publikovat na internetu. Je definován množinou značek a jejich atributů. Mezi značky se uzavírají části textu a tím se určuje význam obsaženého textu. Jednotlivé značky se uzavírají mezi úhlové závorky „<“ a „>“. Součástí elementu mohou být v obsahu další vnořené elementy. Pomocí atributů se elementu doplňují informace, které definují vlastnosti elementu (15).

Značky neboli „tagy“ mohou být párové a nepárové. Párové značky se uzavírají koncovou značkou, která je shodná s počáteční, akorát se před názvem vpisuje znak lomítka „/“ (15).

## CSS
CSS (Cascading Style Sheets - kaskádové styly) je zápis, který určuje vzhled (barvy, dekorační obrázky, rozmístění prvků) HTML dokumentu.
http://www.pestujemeweb.cz/obsah/css/co-je-css.php

### CSS Preprocesor
CSS nenabízí možnost jak strukturovat styly uvnitř souboru. Vždy musí být uveden jeden nebo více CSS selektorů, po kterých musí následovat blok s výčtem vlastností, které se mají pro dané selektory aplikovat. Díky tomu mohou vznikat dlouhé řetězce selektorů. CSS také nenabízí možnost využití proměnných, například pro aplikaci hodnot, které se ve stylech opakují. CSS preprocesory tyto a další nedostatky obyčejného CSS eliminují a poskytují mnohem více funkcí, než klasické CSS. Ve výsledku je pak zápis přeložen do klasického CSS tak, aby mohlo být využitelné pro nastylování HTML dokumentu.
https://www.itnetwork.cz/html-css/webdesign/less-css-preprocesor

Mezi CSS preprocesory patří například LESS nebo Sass.
https://www.zdrojak.cz/clanky/css-preprocesory-mene-psani-vyssi-efektivita/

## Hypertext Preprocesor – PHP
„_PHP je programovací jazyk, který pracuje na straně serveru. S PHP můžete ukládat a měnit data webových stránek. Původní význam zkratky PHP byl Personal Home Page. Vzniklo v roce 1996, od té doby prošlo velkými změnami a nyní tato zkratka znamená PHP: Hypertext Preprocessor__”_ (17).

Oficiální stránky PHP se nacházení na www.php.net (20).

### Interpretace jazyka
PHP je imperativní (procedurální) interpretovaný multiparadigmatický programovací jazyk (19).
Imperativní programovací jazyk je jazyk, který k řešení úlohy tedy využívá algoritmu (postup, jak se má daná úloha vyřešit) (19).

Interpretovaný programovací jazyk je jazyk, který je do strojového kódu překládán až za běhu programu (tím se liší od kompilovaných, kde se před spuštěním musí zdrojový kód překompilovat pomocí kompilátoru do strojového kódu a až potom spuštěn). Zdrojový kód se za běhu překládá pomocí interpretu a ten příkazy při překladu zároveň provádí (po částech) (20).
Multiparadigmatický programovací jazyk je jazyk, který podporuje více jak jedno programovací paradigma (19).

Programovacím paradigmem si lze představit základní programovací styl, ve kterém je program naprogramován. Rozdíl je v pojmech a abstrakcích, které tvoří prvky programu (objekty, funkce, proměnné, omezení atd.). Programovací paradigma rozlišujeme na: aspektově orientované, deklarativní (funkcionální, logické), generické, imperativní, paralelní a strukturované (objektově orientované, rekurzivní) (21).

### Možnosti jazyka
PHP má spoustu možností pro práci, dokáže pracovat s databázemi, s velkým množstvím internetových protokolů (např. IMAP, POP3, SMTP atd.), dokáže vytvářet (editovat) soubory a obsahuje spoustu funkcí na zpracování řetězců. PHP je zdarma a volně šiřitelné (20).

## JavaScript
JavaScript je multiplatformní a objektově orientovaný, odlehčený skriptovací jazyk, který se spouští na hostovaném zařízení (např. webový prohlížeč). Může se vázat na objekty hostovaného prostředí a může tak poskytovat prostředky pro jejich ovládání (22).

Neobsahuje statické typování proměnných, ani silnou typovou kontrolu jako v některých jiných programovacích jazycích (22).

Umožňuje manipulovat s prvky webové stránky pro její oživení. Je tedy základem dynamického webu (23).

### Asynchronous JavaScript and XML – AJAX
AJAX (česky „asynchronní JavaScript a XML“) je populární způsob pro tvorbu vysoce interaktivních aplikací. Základní princip je aktualizovat pouze části stránky bez nutnosti načítání a vykreslování celé stránky (26).

_„AJAX však dovoluje poslat pomocí JavaScriptu separátní HTTP požadavek a data, která nám server vrátí, pak můžeme v JavaScriptu libovolně dále zpracovávat – např. je pomocí DOM zaintegrovat do právě zobrazované stránky. Lze tak interaktivně aktualizovat pouze část stránky”_ (26).


## Objektové programování
_„Objektově orientované programování (dále jen OOP) nevzniklo náhodou, ale je důsledkem vývoje, který k němu směřoval. Jedná se o moderní metodiku vývoje softwaru, kterou podporuje většina programovacích jazyků. Častou chybou je, že se lidé domnívají, že OOP se využívá pouze při psaní určitého druhu programů a jinak je na škodu. Opak je pravdou – OOP je filosofie, je to nový pohled na funkci programu a komunikaci mezi jeho jednotlivými částmi. Mělo by se používat vždy, ať už děláme malou utilitku nebo složitý databázový systém. OOP není jen technika nebo nějaká doporučená struktura programu, je to hlavně nový způsob myšlení, nový náhled na problémy a nová éra ve vývoji softwaru”_ (27).

Objektem je myšlen soubor dat a funkcí, čímž je patrný velký rozdíl objektového a strukturovaného programování, kdy strukturované od sebe přísně odděluje data a funkce (28).

### Objekt
Je základní jednotkou, která dokáže udržovat svůj stav a integrovat s okolím zasíláním a přijímáním zpráv (29).

### Atributy
Atributy jsou vlastnosti neboli data (proměnné), která objekt v sobě uchovává. Někdy se o nich hovoří jako o vnitřních stavech objektu  (30).

### Metody
Metody jsou schopnosti, které je objekt schopen vykonávat. Mohou mít parametry a mohou vracet hodnotu stejně jako funkce. Metoda se od funkce liší tím, že metoda patří objektu, zatímco funkce nepatří žádnému objektu (to je také problém neobjektového programování) (30).

### Třída
Aby bylo možné vytvořit objekt, je nutné nejdříve vytvořit třídu. Třída je vzor, podle kterého se objekty vytvářejí, definuje vlastnosti a schopnosti. Objekt, který se vytvoří podle třídy, se nazývá instance. Instance mají stejné rozhraní jako třída, podle kterého se vytvoří, ale navzájem se liší svými atributy (30).

## Framework
Jedním z hlavních společných cílů při programování by měl být šetřit si práci. Toho dosahujeme použitím správných návrhů funkcí, metod a tříd, které lze uplatnit na více místech. Tohoto cíle lze také dosáhnout použitím existujících osvědčených a optimalizovaných knihoven a nástrojů (31).

Framework je ucelený soubor tematicky zaměřených knihoven, které ulehčují práci při programování aplikací. To zajišťuje psaní méně kódu, kód je přehlednější a rychlejší vývoj aplikace. Většina frameworků pracuje s architekturou MVC, která rozděluje aplikaci na nezávislé vrstvy (32).

_„Z praktických zkušeností vám mohu s klidem říci, že pokud programujete v čistém PHP, tak je asi 50 % vašeho kódu nepotřebný balast. S použitím kvalitních knihoven napíšete aplikaci za polovinu času a s polovičním počtem řádků. Aplikace bude snadno udržovatelná a její tvorba vás bude bavit. Nebudete stále vynalézat kolo a řešit ty samé rutinní záležitosti (jako např. jak ověřit, zda je uživatel administrátor), budete se naopak věnovat vymýšlení zajímavých funkcí té dané aplikace a o tom programování přeci je“_ (33).

## MVC architektura
MVC architektura neboli architektura Model-View-Controller, je architektura budování aplikace, která oddělí aplikaci na 3 logické části (15).

_„Základní myšlenkou MVC architektury je oddělení logiky od výstupu. Řeší tedy problém tzv. "špagetového kódu", kdy máme v jednom souboru (třídě) logické operace a zároveň renderování výstupu. Soubor tedy obsahuje databázové dotazy, logiku (např. PHP operace) a různě poházené HTML tagy. Vše je zamotané do sebe jako špagety. Kód se samozřejmě špatně udržuje, natož rozšiřuje“_ (34).

Aplikace se rozdělená na komponenty 3 typů (3 logické části) – Model, View (Pohled) a Controller (nepřekládá se, ale dalo by se přeložit jako „prostředník“) (34).

![Znázornění architektury MVC, zdroj: https://www.konstantinfo.com/blog/mvp-vs-mvc-vs-mvvm/](https://www.konstantinfo.com/blog/wp-content/uploads/2018/12/MVC-model.png)

### Model
Model obsahuje logiku aplikace. Mohou to být například výpočty, dotazy na databázi, validace apod. Model neví nic o výstupu. Jeho funkce je přijetí parametrů, zpracování a vydání dat ven. Model neví, jak se k němu data dostala a jak budou dále zpracovaná data interpretována (34).

### View
Pohled (View) se stará o interpretaci výstupu aplikace. Šablony lze samozřejmě vkládat do sebe, abychom eliminovaly opakování stejného kusu kódu v několika šablonách (34).

### Controller
Controller, lze přeložit jako ,,řadič".
https://doc.nette.org/cs/2.4/presenters

Controller zastává funkci prostředníka, se kterým komunikuje uživatel, model i pohled. Drží systém pohromadě a propojuje jednotlivé komponenty (34).


## MVP architektura
MVP (Model-View-Presenter)  je návrhový vzor, který vychází ze vzoru MVC. Z něj dědí většinu vlastností, ale hlavním rozdílem je v zodpovědnosti vrstvy Presenter. Controller definovuje chování a spravuje typicky několik pohledů (views). Presenter většinou spravuje pouze jediný pohled. V MVC může také pohled komunikovat přímo s modelem, zatímco v MPV má za veškerou ,,komunikaci" mezi pohledem a modelem pouze Presenter.
https://www.ackee.cz/blog/uvod-do-mvp-na-androidu/

![Znázornění architektury MVP, zdroj: https://www.konstantinfo.com/blog/mvp-vs-mvc-vs-mvvm/](https://www.konstantinfo.com/blog/wp-content/uploads/2018/12/MVP-Pattern.png)


## Databáze
_„Databáze neboli datová základna (Data Base) je místo, kam se ukládají určitým způsobem organizované a strukturované údaje. Přístup k údajům uložených v databázi obstarává databázový systém, kterému se říká SŘBD – Systém Řízení Báze Dat (anglický termín DBMS – Database Management System). Běžně se označením databáze myslí jak uložená data, tak i software“_ (35).

Slovem databáze běžně označujeme každý uspořádaný soubor dat (28).

Databáze slouží primárně jako nástroj pro snadnější a efektivnější extrakci informací. Díky uspořádání se z dat stává přehledný systém informací, ze kterého se dají snadno čerpat informace a znalosti (36).

Typy databází lze rozlišovat dle struktur. Mezi základní typy se řadí:
- ploché,
- hierarchické a síťové,
- relační
- objektové.
https://www.dotnetportal.cz/clanek/60/Lehky-uvod-teorie-databazi

### Relační databáze
Relační databáze jsou v současnosti nejpoužívanějším typem databází.
https://www.dotnetportal.cz/clanek/60/Lehky-uvod-teorie-databazi

_,,Součástí relačních databází jsou tabulky, které označujeme jako relace. Jedná se v podstatě o tabulky se sloupci nazývanými atributy, dále pak řádky, které se označují jako záznamy. U každého z atributů je stanoven datový typ a doména. K ukládání samotných informací zde slouží řádky."_

https://it-slovnik.cz/pojem/relacni-databaze/

Je doporučené vytvářet unikátní identifikátory řádků, které jednotlivé záznamy identifikují. Tyto identifikátory se nazývají primární klíče. Dále mohou tabulky obsahovat i cizí klíče. Tyto klíče mají zásadní funkci při návrhu databáze a to, že definují odkaz na primární klíč z jiné tabulky.
https://www.dotnetportal.cz/clanek/60/Lehky-uvod-teorie-databazi

## Správa verzí
Správa verzí je systém, který zaznamenává změny souborů v průběhu času a uživatel má možnost obnovit jejich konkrétní verzi. Lze provádět na téměř jakémkoli typu souboru. Umožňuje vrátit jednotlivé soubory do předchozího stavu, porovnávat změny, kdo je autorem jaké verze a mnoho dalšího. Lze tedy snadno získat ztracené soubory nebo vrátit nežádané úpravy. 
https://git-scm.com/book/cs/v1/%C3%9Avod-Spr%C3%A1va-verz%C3%AD

### Lokální systémy správy verzí
Lokální systém správy verzí disponují jednoduchou lokální databází, ve které se uchovávají všechny změny souborů s nastavenou správou verzí. Jedním z oblíbených nástrojů tohoto typu byl systém "rcs". Tento nástroj pracuje tak, že uchovává ve speciálním formátu seznam změn mezi jednotlivými verzemi. Systém později může na základě porovnávání těchto změn vrátit jakýkoliv soubor do podoby, ve kterém byl v jakékoliv verzi. Toto řešení obsahuje to riziko, že pokud dojde k trvalé ztrátě databáze lokální správy verzí, dojde ke ztrátě celé historie projektu.
https://git-scm.com/book/cs/v1/%C3%9Avod-Spr%C3%A1va-verz%C3%AD

### Centralizované systémy správy verzí
Centralizované systémy správy verzí mají oproti lokálním systémům tu výhodu, že řeší problematiku spolupráce s dalšími pracovníky v týmu. Mezi tyto systémy patří například CVS, Subversion nebo Perforce. Tyto systémy obsahují mimo lokální část i serverovou, která uchovává všechny verzované soubory. Z tohoto centrálního úložiště si potom soubory stahují jednotliví klienti.
https://git-scm.com/book/cs/v1/%C3%9Avod-Spr%C3%A1va-verz%C3%AD

Oproti lokálním systémům mají mnoho výhod, například, že do určité míry vědí všichni účastníci projektu co kdo na projektu realizuje a administrátoři mají přesnou kontrolu nad jednotlivými právy. Díky tomu je i podstatně jednodušší spravovat centralizované systémy, než pracovat s lokálními databázemi na jednotlivých klientech.
https://git-scm.com/book/cs/v1/%C3%9Avod-Spr%C3%A1va-verz%C3%AD

Bohužel tento koncept má závažné nedostatky. Mezi největší nedostatek tohoto systému je ten fakt, že pokud vypadne centrální server, nelze během výpadku buď pracovat vůbec nebo přinejmenším není možné ukládat změny ve verzích souborů. Pokud pak dojde ke zničení úložiště, na němž je uložena databáze centralizovaného systému správy verzí a toto úložiště není předem zálohované, dojde ke ztrátě všech dat (celé historie projektu) - podobně jako u lokálního systému správy verzí.
https://git-scm.com/book/cs/v1/%C3%9Avod-Spr%C3%A1va-verz%C3%AD

### Distribuované systémy správy verzí
V případě distribuovaných systémů správy verzí uživatelé ze serveru nestahují pouze nejnovější verzi souborů (snímek), ale uchovávají kompletní kopii celého repositáře. Pokud tedy dojde ke kolapsu serveru (i trvalému bez záloh), lze jej znovu obnovit zkopírováním repositáře od jakéhokoliv uživatele. Každá lokální kopie je pak plnohodnotnou zálohou všech dat. Mnoho systémů tohoto typu navíc dokáže pracovat i s několika vzdálenými repositáři, lze tedy v rámci jednoho projektu spolupracovat s několika skupinami lidí najednou. Mezi tyto systémy patří například Git, Mercurial, Bazaar nebo Darcs.
https://git-scm.com/book/cs/v1/%C3%9Avod-Spr%C3%A1va-verz%C3%AD

## Composer
Composer je nástroj pro správu závislostí v PHP. Umožňuje deklarovat knihovny, na kterých váš projekt závisí, a bude je spravovat (instalovat / aktualizovat).
https://getcomposer.org/doc/00-intro.md

Je nejdůležitějším nástrojem pro PHP vývojáře.
https://phpfashion.com/composer-jak-na-ruzne-varianty-instalace

_,,Composer je PHP skript zabalený do souboru composer.phar a pro svůj běh vyžaduje nainstalované PHP minimálně ve verzi 5.3.2. Dalším požadavkem může být přítomnost softwaru git, svn, fossil nebo hg v závislosti na tom, v čem jsou požadované balíčky verzované, ale na to by měl Composer v případě potřeby upozornit."_
https://www.itnetwork.cz/php/ostatni/composer

 Předpoklady pro použití:
 - projekt závisí na jiných knihovnách
 - tyto knihovny závisí na dalších knihovnách
 - https://getcomposer.org/doc/00-intro.md

Funkce Composeru:
- umožňuje deklarovat knihovny, na které je projekt vázán
- zjistí, které verze balíčků mohou a musí být nainstalovány a nainstaluje je (což znamená, že je stáhne do projektu)
- https://getcomposer.org/doc/00-intro.md

### Satis
Satis je open source generátor statického Composer repositáře. Je to ultralehké řešení, které umožňuje hostování metadata privátních balíčků (repositářů).
https://getcomposer.org/doc/articles/handling-private-packages-with-satis.md

## Nette Framework
![Logo Nette Framework, zdroj: https://nette.org/cs/logo](https://files.nette.org/git/www/nette-logo-blue.png)
_,,Nette je rodina vyspělých a samostatně použitelných komponent pro PHP. Nechte se jimi nadchnout. Dohromady tvoří framework, vyhodnocený jako 3. nejpopulárnější na světě. Filosofie Nette klade mimořádný důraz na produktivitu, nejlepší postupy a bezpečnost."_
https://nette.org/cs/

Nette Framework je vytvořený tak, aby byl co nejpoužitelnější. Jde o framework, se kterým je snadné a zábavné pracovat. Dává srozumitelnou syntaxi, napomáhá při programování a debugování a pomáhá spistředit se na kreativní stránku vývoje.
https://doc.nette.org/cs/2.4/getting-started

Nette Framework používají významné společnosti jako třeba T-Systems, GE Money, Mladá fronta, DHL, Logio, ESET, Actum, Slevomat, Socialbakers, SUPRAPHON a další.

https://doc.nette.org/cs/2.4/getting-started

## Nittro
Nittro je JavaScriptový framework na straně klienta, speciálně vytvořený pro Nette aplikace. Vytváří kompletní AJAXem řízené stránky. Stará se o základní funkcionality, jako jsou aktualizace sekcí na stránce, aktualizace historie prohlížeče, zobrazování animací během načítání obsahu, validace formuláře na klientské straně, AJAX upload, zobrazování systémových zpráv a další. Lze do Nette aplikace snadno aplikovat a neobsahuje žádné závislosti na další JavaScriptové knihovny.
https://github.com/nittro/nittro

## Doctrine 2
![Logo Doctrine, zdroj: https://www.biostatistika.cz/index.php?pg=produkty--clade-is](https://www.biostatistika.cz/res/image/technology-mix/doctrine_logo.png)
Doctrine 2 je objektově-relační mapovač (ORM) pro PHP 7.1+, který zajišťuje transparentní ukládání pro objekty PHP. V jádře využívá model datového mapovače, jehož cílem je úplné oddělení domény (obchodní logiky) od logiky ukládání dat do relační databáze.
https://www.doctrine-project.org/projects/doctrine-orm/en/2.6/tutorials/getting-started.html

Výhodou Doctrine pro programátora je schopnost soustředit se na objektově orientovanou obchodní logiku a starat se o ukládání dat do relační databáze pouze jako sekundární problém. 
Ukládání dat do relační databáze je tedy zcela řešeno pomocí Doctrine.
https://www.doctrine-project.org/projects/doctrine-orm/en/2.6/tutorials/getting-started.html

### Entity

_,,Entity jsou základní kameny v Doctrine 2 a vůbec celé vaší aplikace. Každá entita reprezentuje nějaký objekt reálného světa, takzvaný doménový objekt. Jednu entitu tak budu mít definovanou pro článek, jinou pro kategorii, další pro uživatele."_
https://www.zdrojak.cz/clanky/doctrine-2-zakladni-definice-entit/

Entity jsou tedy v PHP objekty které lze identifikovat na základě mnoha požadavků pomocí jedinečného identifikátoru nebo primárního klíče. Tyto třídy nepotřebují rozšířit žádnou abstraktní základní třídu nebo rozhraní. Třída entity nesmí být konečná nebo nesmí obsahovat konečné metody.
https://www.doctrine-project.org/projects/doctrine-orm/en/2.6/tutorials/getting-started.html

## Elasticsearch
![Logo ElasticsWearch, zdroj: https://www.elastic.co/brand](https://images.contentstack.io/v3/assets/bltefdd0b53724fa2ce/blt05047fdbe3b9c333/5c11ec1f3312ce2e785d9c30/logo-elastic-elasticsearch-lt.svg)
Elasticsearch je vysoce škálovatelný open-source fulltextový vyhledávací a analytický engine. Umožňuje rychle a v reálném čase ukládat, vyhledávat a analyzovat velké objemy dat. Používá se obecně jako základní motor / technologie, která napomáhá aplikacím, které mají složité vyhledávací funkce a požadavky.
https://www.elastic.co/guide/en/elasticsearch/reference/current/getting-started.html

Pár vzorových případů pro využití Elasticsearch:
- díky uložení celého katalogu do Elasticsearch lze produkty vyhledávat a automaticky doplňovat vyhledávání v e-shopu,
- shromažďování a následná analýza a vyhodnocování protokolů (hledání trendů, statistik,agregační funkce, vyhledávání anomálií),
- řešení analytických a Business-inteligence potřeb a je kladen důraz na ryhlou analýzu a vizualizaci dat mezi miliony nebo miliardy záznamů.
https://www.elastic.co/guide/en/elasticsearch/reference/current/getting-started.html

## Message broker
MessageBroker je prostřední počítačový programový modul, který převádí zprávu z formálního protokolu zasílání odesílatele do formálního protokolu zasílání zpráv přijímače. Zprostředkovatelé zpráv jsou prvky v telekomunikačních nebo počítačových sítích, kde softwarové aplikace komunikují výměnou formálně definovaných zpráv.
https://www.gartner.com/it-glossary/ib-integration-broker


### RabbitMQ
![Logo RabbitMQ, zdroj: https://medium.com/@kousiknath/dabbling-around-rabbit-mq-persistence-durability-message-routing-f4efc696098c](https://cdn-images-1.medium.com/max/800/1*UnYL-2r54_7AnEwQv0cVxA.png)
RabbitMQ je nejrozšířenější open source message broker. Běží na mnoha operačních systémech a cloudových prostředích a poskytuje širokou škálu vývojářských nástrojů pro většinu populárních jazyků. Je lehký a snadno se rozšiřuje i v cloudových řešeních. Lze nasadit na distribuované i sdružených konfiguracích tak, aby splňovaly vysoké požadavky na vysokou dostupnost.
https://www.rabbitmq.com/

## Virtualizace
_"Virtualizace vytváří simulované neboli virtuální výpočetní prostředí namísto fyzického prostředí. Virtualizace často zahrnuje počítačem vytvořené verze hardwaru, operačních systémů, úložných zařízení atd. To umožňuje organizacím rozdělit jeden fyzický počítač nebo server na několik virtuálních počítačů. Každý virtuální počítač pak může pracovat nezávisle a spouštět různé operační systémy nebo aplikace, zatímco sdílí prostředky jediného hostitelského počítače."_
[https://azure.microsoft.com/cs-cz/overview/what-is-virtualization/](https://azure.microsoft.com/cs-cz/overview/what-is-virtualization/)

### Vagrant
Vagrant je nástroj pro vytváření a správu prostředí virtuálních počítačů. Poskytuje snadno konfigurovatelné, reprodukovatelné a přenosné pracovní prostředí postavené na špičkové technologii a řízené jediným konzistentním pracovním postupem, který pomáhá maximalizovat produktivitu jednotlivce i celého vývojového týmu.
[https://www.vagrantup.com/intro/](https://www.vagrantup.com/intro/)

### Laravel Homestead
Laravel Homestead je oficiální, předem zabalený Vagrant box, který poskytuje skvělé vývojové prostředí bez nutnosti instalace PHP, webového serveru a jakéhokoliv jiného serverového softwaru na lokálním počítači.
[https://laravel.com/docs/5.8/homestead](https://laravel.com/docs/5.8/homestead)

Aktuálně Laravel Homestead ve verzi 5.8 obsahuje například software:
- Ubuntu 18.04,
- Git,
- PHP 7.3,
- Nginx,
- MySQL,
- Composer,
- Node (Yarn, Bower, Grunt, a Gulp),
- Redis,
- Elasticsearch,
- a další.
[https://laravel.com/docs/5.8/homestead](https://laravel.com/docs/5.8/homestead)

## Analýza statického kódu
Analýza statického kódu (známá také jako analýza zdrojového kódu) se obvykle provádí jako součást kontroly kódu (také označovaného jako testování bílého boxu). Analýza statického kódu se běžně vztahuje k nástrojům pro analýzy, které se pokoušejí rozpoznat možné chyby v rámci testování „statického“ (nespuštěného) zdrojového kódu pomocí technik, jako je například analýza barev a analýza toku dat.
[https://www.owasp.org/index.php/Static_Code_Analysis](https://www.owasp.org/index.php/Static_Code_Analysis)

### Cyklomatická složitost
Cyklomatická složitost je metrika kvality softwaru. Nejjednodušší definice popisuje cyklomatickou složitost jako počet rozhodnutí ve zdrojovém kódu. Čím vyšší je počet, tím složitější je kód. Cyklomatická složitost je důležitá, protože určuje limitní komplexnost kódu a určuje počet požadovaných testovacích případů. 
[https://www.perforce.com/blog/qac/what-cyclomatic-complexity](https://www.perforce.com/blog/qac/what-cyclomatic-complexity)

# Analýza současné situace
V této části práce se budu věnovat popisu základních informací o podniku a popisu aktuálního stavu, ve kterém se podnikový e-shop nachází.

## Základní informace o podniku
_,,Hana Hladíková (68737424) je Fyzická osoba podnikající dle živnostenského zákona nezapsaná v obchodním rejstříku. Má celkem jednu živnost. Živnost provozuje od roku 2001. V současnosti stále podniká."_
todo: https://firmy.euro.cz/subjekt-hana-hladikova-68737424#res

|||
|--|--|
|Jméno|Hana Hladíková|
|Právní forma podnikání|Fyzická osoba podnikající dle živnostenského zákona nezapsaná v obchodním rejstříku|
|Přidělený úřad|Městský úřad Velké Meziříčí|
|Vznik živnosti|1.7.2001|
|Sídlo|Lavičky 127, 594 01|
|Klasifikace ekonomických činností -CZ-|Ostatní profesní, vědecké a technické činnosti, Poradenství v oblasti řízení|
|IČO|68737424|
|DIČ|CZ7656024827|
|Datum registrace k dani z přidané hodnoty|13.3.2019|
|Webové stránky|HanaBrand.cz|

## Značka HanaBrand
V rámci podnikatelské činnosti podniku vznikla v roce 2015 značka HanaBrand. Pod touto značkou jsou označovány všechny výrobky podniku.

![Logo HanaBrand používané převážně na výrobcích](https://hanabrand.cz/temp/dp/fb_logo_transp_big_black_transp_halfly.png)

![Zjednodušená varianta loga HanaBrand](https://hanabrand.cz/temp/dp/logo-miniaturni.png)

## Nabízené produkty a služby
Společnost pod značkou HanaBrand nabízí produkty vlastní výroby, které jsou vyrobeny z certifikovaných materiálů českého původu. Mezi tyto produkty patří například:
- dámské kuchyňské zástěry,
- bezobalové nakupování (ekologické pytlíky),
- vaky na záda,
- tašky,
- dětské zástěry do kuchyně,
- chňapky,
- pánské kuchyňské zástěry.

![Poměr obratu v jednotlivých kategoriích na e-shopu v roce 2018, zdroj: interní podnikové dokumenty](https://hanabrand.cz/temp/dp/pomer-obratu-kategorii.png)
Mimo produkty také podnik nabízí službu zakázkového šití.
	
## Obchodní vztahy
Společnost nabízí pod značkou HanaBrand své vlastní produkty a služby formou B2C a B2B. 

### B2C
Společnost poskytuje výrobky a služby koncovým zákazníkům prostřednictvím následujících kanálů:
- vlastní E-shop,
- handmade internetové tržiště Fler.cz,
- handmade internetové tržiště Sashe.sk,
- přímý prodej (trhy, jarmarky, zakázková výroba),

### B2B
Společnost poskytuje výrobky a služby obchodním partnerům pouze prostřednictvím e-mailové a telefonické komunikace. Vytvoření objednávky s velkoobchodní slevou prostřednictvím e-shopu není možné, protože aktuální e-shopové řešení touto funkcionalitou nedisponuje. Zároveň poskytuje společnostem na Vysočině komisní prodej.

## Současná technická situace
V této části bude popsána současná technická situace ve kterém se nachází podnikové e-shopové řešení. Aktuálně provozované e-shopové řešení bylo vytvořeno v roce 2016. Jedná se o PHP aplikaci, která je objektově orientovaná a využívá návrhový vzor MVC. Řešení nevyužívá žádný aplikační framework, proto je poměrně složité toto řešení snadno rozšiřovat tak, aby splňoval veškeré požadavky podniku.

### Technické požadavky současného e-shopu
Pro provoz současného e-shopového řešení jsou potřeba následující technické požadavky:
- Apache Server 2.4.29,
- PHP 5.6.40,
- mysqli,
- gd,
- json,
- MariaDB 10.0.21,

### Entity v aplikaci
Seznam existujících entit v aplikaci:
- article (článek),
- article category (kategorie článků)
- basket (košík),
- category (kategorie produktů),
- custom field (uživatelské pole produktu),
- custom field value (hodnota uživatelského pole produktu),
- discount (sleva)
- order (objednávka),
- order item (produkt objednávky)
- payment (platba),
- product (produkt)
- shipping (doprava),
- user (uživatel).

### Administrované entity v aplikaci
![Přihlášení do administračního rozhraní e-shopu](https://hanabrand.cz/temp/dp/prihlaseni-administrace.png)
Seznam entit, které jsou administrovatelné v administrační části e-shopu:
- discount (sleva) - pouze vytvoření,
- order (objednávka),
- product (produkt).

![Přehled výpisu produktů v administraci](https://www.hanabrand.cz/temp/dp/prehled-administrace-produktu.png)

Zbylé entity jsou administrovatelné pouze skrz konfiguraci databáze aplikace. To značně ztěžuje administraci celé aplikace, protože jakákoliv úprava, která se netýká objednávky nebo produktu vyžaduje zásah programátora.

![Administrace produktu](https://hanabrand.cz/temp/dp/administrace-produktu2.png)

V administraci produktů lze konfigurovat vlastnosti, které definují obsah produktu. Lze nastavit:
- název,
- alias (část URL adresy pro zobrazení detailu produktu),
- zařazení do kategorie,
- stav produktu (nezveřejněný, zveřejněný, vyprodaný),
- příznak doporučeného produktu,
- příznak nového produktu,
- počet návštěvníků, kterým se produkt líbil (ikona srdíčka na detailu produktu),
- konfigurace uživatelských polí:
	- krátký popis (perex),
	- výběr hlavního obrázku,
	- výběr dalších použitých obrázků,
	- dlouhý popis,
	- cena,
	- zakázané způsoby dopravy pro produkt,
	- fyzická délka produktu [cm],
	- fyzická šířka produktu (cm),
	- fyzická délka opasku zástěry (cm),
	- fyzická šířka opasku zástěry (cm),
	- barva,
	- vzor,
	- počet kapes,
	- styl kapes,
	- materiál,
	- typ produktu,
- zobrazení ve feedech,
- metadescription,
- název ve feedech (pokud se liší od základního názvu).

![Přehled objednávek v administraci](https://hanabrand.cz/temp/dp/prehled-objednavek.png)
Zato nastavení objednávky je o poznání prostější. Objednávce lze v administračním rozhraní nastavit pouze stav. Na výběr jsou možnosti:
- nová,
- zpracovává se,
- zaplaceno,
- odesláno,
- dokončeno,
- stornováno.
Přičemž při změně objednávky na stavy "zaplaceno", "odesláno" a "dokončeno" odešle systém zákazníkovi e-mail zákazníkovi s informacemi o současném stavu jeho objednávky.
![Detail objednávky](https://hanabrand.cz/temp/dp/prehled-objednavky.png)
Formulář pro vytvoření nového slevového kupónu je také velice prostý.  Slevové kupóny nelze z pohledu administračního rozhraní systému nijak pokročile spravovat, lze je pouze vytvořit.
![Formulář pro přidání nového slevového kupónu](https://hanabrand.cz/temp/dp/slevovy-kupon.png)
Po definování slevy (pevné částky nebo nebo procentuální sazby z celkové ceny objednávky), minimální celkové částky objednávky pro umožnění aplikace slevy a maximální platnosti kupónu systém vygeneruje náhodný jedinečný slevový kód kupónu a uloží kupón do databáze. 

### Implementované funkcionality
Seznam implementovaných funkcionalit, kterými aktuální řešení disponuje:
- administrace objednávek,
- administrace produktů,
- aplikace slevových kupónů na objednávku,
- export produktů do externích systémů (Zboží.cz, Google Merchants),
- individuální definice cen způsobů doprav,
- individuální definice cen způsobů plateb v závislosti na zvoleném způsobu dopravy,
- odesílání e-mailů administrátorům a zákazníkovi při vytvoření objednávky a při změně stavu objednávky.
- odesílání zpráv přes Pushover administrátorům při vytvoření nové objednávky,
- responzivní design šablon,
- správa košíku produktů,
- vytvoření a dokončení objednávky,
- vytvoření slevového kupónu,
- výběr parcelshopu v případě zvolení způsobu dopravy přes Zásilkovnu,
- zobrazení detailu produktu,
- zobrazení detailu článku,
- zobrazení kategorie produktů.

## Statická analýza kódu
Protože mám přístup k zdrojovým souborům současně provozovaného řešení, mohu provést statickou analýzu kódu za pomocí nástroje PhpMetrics.
![Výsledek statické analýzy kódu současného řešení, zdroj: vlastní zpracování](https://hanabrand.cz/temp/dp/staticka-analyza-hanabrand.png)

Z výsledků analýzy lze vyčíst například základní informace, tedy, že zdrojový kód obsahuje:
- 68 tříd,
- 15 691 řádků kódu,
- v tomto kódu se vyskytuje celkem 67 chyb,
- průměrný počet 0,87 chyb na jednu třídu,
- index průměrné cyklometrické složitosti je 25,15.

## Zhodnocení současného stavu
Na základě konzultace s paní Hanou Hladíkovou, provozovatelkou současného e-shopového řešení, lze konstatovat, že zhruba 60% příjmů společnosti tvoří objednávky vytvořené přes současné e-shopové řešení. Společnost je tedy z větší části závislá na internetovém prodeji.

Současné řešení vzniklo jako jednoduchá aplikace na zelené louce bez využití žádného aplikačního frameworku v roce 2016. Od té doby se řešení prakticky nevyvíjelo, funkcionality nevylepšovaly a kód se neaktualizoval, čemuž také nasvědčuje fakt, že nebyla aktualizována verze PHP, na kterém je systém provozován.

Sama společnost cítí potřebu inovace řešení, protože současné řešení postrádá spoustu důležitých funkcí. Inovací řešení společnost očekává především usnadnění práce s e-shopem, přehlednější a snadnější administrativu. E-shop by měl být pro zákazníky sestaven tak, aby se v něm dobře orientovali a například jim umožnit vkládat recenze k produktům, čímž se také zvýší důvěryhodnost internetového obchodu. Dále společnost plánuje nabízet své výrobky a služby za hranicemi České republiky, z toho důvodu požaduje lokalizaci celého řešení.

V současnosti společnost propaguje svoje výrobky pomocí placených kampaní Sklik, Zboží.cz, Facebook i Instagram, Po inovaci řešení má společnost v plánu investovat do marketingu mnohem více finančních prostředků, než kolik investuje nyní.

# Návrh řešení
V této kapitole se zaměřím na návrhovou a implementační část (na úrovni prototypu) vytvoření e-commerce platformy. Tato platforma bude vytvořena tak, aby poskytovala kvalitní technologický základ pro budoucí vývoj v plnohodnotný produkt, který podniku poskytne náhradu za aktuální e-shopové řešení a bude disponovat funkcionalitami, které podnik od nového řešení požaduje.

## Požadavky na nové řešení
Na základě konzultace s Hanou Hladíkovou, byl sestaven následující seznam požadavků, které by mělo nové řešení poskytovat:
- administrace všech entit v systému (nejen produkty a objednávky),
- propojení s cenovými srovnávači:
	- Zboží.cz,
	- Heuréka,
	- Google Merchants,
- platba kartou,
- varianty produktů,
- uživatelské parametry produktů,
- propracovaná cenotvorba:
	- měny (min CZK, EUR),
	- slevy (na dopravu, na produkty),
	- B2C, B2B (cenové hladiny),
- konfigurace dostupných způsobů doprav:
	- dle zemí,
	- dle ceny objednávky,
	- dle rozměrů a váhy košíku,
- zobrazování cen s DPH i bez DPH,   
- propojení s externími službami (API):
	- Zásilkovna.cz,
	- Česká pošta,
- správa skladů,
- dodací i fakturační adresa pro objednání,
- uživatelské účty pro zákazníky:
	- rezervace produktů,
	- historie objednávek,
	- přiřazení cenové hladiny,
	- správa adres (dodací, fakturační),
- recenze produktů,
- správa obsahu (bannery, články, kategorie),
- překlady do cizích jazyků,
- redesign,
- správa metatagů pro SEO,
- vyhledávání:
	- fulltextové,
	- na základě parametrů

## Průzkum dostupných řešení
Dané požadavky společnosti lze splnit pomocí různých dostupných řešení. Ty lze rozdělit dle několika kritérií na:
- vlastní řešení,
-  open-source řešení,
-  krabicové řešení,
-  řešení na míru,
-  pronájem.
TODO: https://www.souki.cz/jak-reseni-eshopu-si-vybrat

### Vlastní řešení 
Výhodou vlastního řešení je ta, že všechny funkce systému budou pod kontrolou. Když bude potřeba něco změnit, nemusí se na nikoho čekat nebo někomu platit, prostě lze danou funkci do systému doplnit. Dané řešení navíc bude vyřešené na míru konkrétním potřebám dané společnosti.
https://www.souki.cz/jak-reseni-eshopu-si-vybrat

Nevýhodou toho řešení je ale vysokým nákladem v podobě velkého počtu stráveného časem při vývoji. Pokud je vývojář daného řešení zároveň majitelem obchodu, doporučuje se spíše investovat strávený čas do samotného rozvoje podnikání, než tvorbou platformy. Pro vývoj vlastní platformy je také vhodné mít již zkušenosti s vývojem e-commerce řešení.
https://www.souki.cz/jak-reseni-eshopu-si-vybrat

**Výhody**
- nulové finanční náklady,
- řešení přesně podle potřeb,
- žádná vazba na poskytovatele,
https://www.souki.cz/jak-reseni-eshopu-si-vybrat

**Nevýhody**
- velké časové náklady,
- nutnost know-how,
- uvázání se k vývoji,
https://www.souki.cz/jak-reseni-eshopu-si-vybrat

### Open-source řešení
Poměrně často se lze na internetu setkat s open-source e-shopovými řešeními. Jejich zdrojové soubory jsou volně ke stažení a systém lze po instalaci na hostingu zprovoznit. Spuštění systému je tedy poměrně velice rychlé. Většinou pro tato řešení zároveň existují různé doplňky od jiných vývojářů (například platba kartou), je tedy možné systém s jejich pomocí customizovat a dále rozšiřovat.
https://www.souki.cz/jak-reseni-eshopu-si-vybrat

Problémem tohoto řešení je, že systém musí být univerzálním řešením pro tisíce obchodníků, tudíž v zásadě nebude systém v základním nastavení vyhovovat individuálním potřebám podniku a bude nutné ho tedy naprosto vždy upravit a doplnit chybějící funkce. Bohužel zároveň většina open-source řešení tohoto typu má velmi špatnou kvalitu zdrojového kódu a mnohdy je i zázrakem, že dané řešení nějakým způsobem vůbec funguje. Některá řešení jsou navíc neuvěřitelně náročná na výkon serveru. Takováto řešení navíc často nedokážou naplnit očekávání dle českých specifik (například práci s dvojí hladinou DPH nebo vystavení faktury dle našich zvyklostí).
https://www.souki.cz/jak-reseni-eshopu-si-vybrat

**Výhody**
- zdarma
- okamžitě k použití
- někdy velké komunity pro vývoj dalších funkcí
https://www.souki.cz/jak-reseni-eshopu-si-vybrat

**Nevýhody**
- často dost špatná kvalita kódu
- náročnost na hosting
- tuctový vzhled obchodu
- často nevhodné pro české podmínky
- zbytečné funkce
https://www.souki.cz/jak-reseni-eshopu-si-vybrat

Mezi tato řešení patří například:
- WooCommerce,
- X-Cart,
- Zen Cart,
- Magento Open Source,
- OpenCart,
- PrestaShop,
- a další.
https://ecommerce-platforms.com/articles/open-source-ecommerce-platforms

### Krabicové řešení
Krabicovým řešením se označují systémy, které poskytovatel e-shopu nabízí prodej či pronájem hotového řešení, tedy design, rozhraní a často i fakturačního systému. Systém se následně naplní daty a lze začít prodávat.
https://pravopropodnikatele.cz/vyhody-nevyhody-eshop-reseni-pravniho-hlediska/

Výhodou tohoto řešení je většinou cena. Pronájem tohoto řešení se většinou pohybuje v řádech stovek korun měsíčně (částka závisí na náročnosti systému a poskytovateli). Licenci z řešení lze i zakoupit, ale častěji je tohoto řešení provozováno formou pronájmu.
https://pravopropodnikatele.cz/vyhody-nevyhody-eshop-reseni-pravniho-hlediska/

Nevýhodou řešení je ta, že základní verze krabicových řešení nenabízí mnoho funkcí a možnosti přizpůsobení vlastním potřebným jsou zpravidla velice omezené. 
https://pravopropodnikatele.cz/vyhody-nevyhody-eshop-reseni-pravniho-hlediska/

**Výhody**
- bezstarostná instalace - zařídí dodavatel,
- odladěné funkce.
https://www.souki.cz/jak-reseni-eshopu-si-vybrat

**Nevýhody**
- pouze standardní funkce,
- malé možnosti rozšíření,
- závislost na dodavateli,
- často obyčejný (neoriginální) vzhled,
- dodatečné náklady na servis.
https://www.souki.cz/jak-reseni-eshopu-si-vybrat

### Řešení na míru
Řešení na míru vznikne tak, že externí společnost vytvoří e-shopové řešení od základů přesně podle požadavků a představ zadavatele. Většinou se vyplatí až pro velké obchody, které mají speciální požadavky a do budoucna je potřeba počítat s náklady na servis.

**Výhody**
- odladěné funkce
- vytvoření přesně podle požadavků
https://www.souki.cz/jak-reseni-eshopu-si-vybrat

**Nevýhody**
- velmi vysoká cena
https://www.souki.cz/jak-reseni-eshopu-si-vybrat

### Pronájem
Princip pronajímaného řešení je ten, že dodavatel poskytuje řešení e-shopu obchodníkovi a ten mu za jeho využívání platí měsíční paušál. 
https://www.souki.cz/jak-reseni-eshopu-si-vybrat

Mezi výhody tohoto řešení patří cena. Ta se dnes pohybuje v rozmezí stovek korun za měsíční pronájem řešení se základní funkcionalitou. I u tohoto řešení platí, že čím náročnější potřeby a požadavky na řešení, tím vyšší cena za pronájem. Mezi výhody dále patří rychlost spuštění obchodu a pokud poskytovatel tyto služby nabízí, tak i zákaznická podpora a průběžný vývoj.
https://www.podnikatel.cz/clanky/pokud-neplanujete-dalsi-alzu-muze-se-pro-zacatek-hodit-pronajem-e-shopu/

Nevýhodami tohoto řešení jsou limity platformy a platí tedy, že mnohdy se obchodník musí přizpůsobovat e-shopu a ne e-shop obchodníkovi. Při dokupování nadstandardních modulů a úpravách na míru navíc roste i cena řešení (jeho hlavní výhoda). Další nevýhodou je menší možnost úprav a jistá šablonovanost e-shopu. Díky tomu tohto řešení není vhodné pro střední a velké e-shopy, které vyžadují spíše robustnější e-shopový systém.
https://www.podnikatel.cz/clanky/pokud-neplanujete-dalsi-alzu-muze-se-pro-zacatek-hodit-pronajem-e-shopu/

### Výsledek průzkumu
TODO

## Výběr technologií
V této sekci blíže přiblížím vybrané technologie, které tvoří základ připravovaného e-commerce řešení.

### Technologická platforma
Na základě osobních zkušeností jsem se rozhodl realizovat celý projekt za použití programovacích jazyků PHP a JavaScript. PHP pro využití ve skriptování na straně serveru, JavaScript pro skriptování na straně klienta - pro zvýšení uživatelského požitku z využívání aplikace, například za použití technologie AJAX. Celý projekt jsem pojmenoval Jarvis.

### Laravel Homestead
Jako vývojové prostředí byl použit Laravel Homestead (virtualizované systémové prostředí za použití nástroje Vagrant), které poskytuje předinstalované prostředí se všemi základními balíčky potřebnými pro vývoj. To umožňuje poměrně rychlý způsob, jak začít vyvíjet aplikaci bez nutnosti zdlouhavé konfigurace. Navíc toto řešení disponuje tou výhodou, že v případě vícečlenného týmu vývojářů budou všichni vývojáři disponovat stejným vývojovým prostředím.

### Composer
Pro co nejvíce systémové řešení jsem se rozhodl celou platformu rozdělit na jednotlivé balíčky (logické celky), které jsou verzovány v samostatných repositářích. Jejich integraci do systému řeší Composer, jako instalaci jednotlivých závislostí. Každý balíček pak vyžaduje vlastní závislosti, které Composer při instalaci systému sám nainstaluje.

### Satis
Aby mohl Composer instalovat balíčky z privátních repositářů, je zapotřebí pro tyto balíčky vytvořit statický Composer repositář. K tomu slouží open-source nástroj Satis.

### Nette Framework
Na základě zkušeností z předchozího řešení je nutné, aby celé řešení bylo postavené na kvalitním PHP Frameworku, který bude umožňovat poměrně snadný vývoj celé aplikace a do budoucna dostatečný prostor pro snadný rozvoj aplikace. V tomto řešení jsem na základě osobních zkušeností zvolil český Nette Framework.

### Nittro
Pro lepší uživatelský požitek z užívání aplikace je využita technologie AJAX. Nittro je rozšíření Nette Framework, které automaticky umožní v aplikaci využít asynchronní zpracovávání HTTP požadavků.

### Doctrine 2
Objektový přístup k entitám modelové vrstvy systému zajišťuje objektově relační mapování. Toho je v systému dosaženo použitím Doctrine 2.

### Elasticsearch
Jako vyhledávací engine pro fulltextové vyhledávání jsem v systému využil Elasticsearch. Ten zajišťuje například vyhledávání produktů nebo článků.

### RabbitMQ
RabbitMQ je používán jako fronta pro asynchronní paralelní zpracovávání úloh v systému. Řeší například odesílání e-mailů nebo automatický export entit do Elasticsearch.

## Struktura aplikace
V této sekci blíže popíši strukturu aplikace. Jednotlivé rozdělení do logických celků (balíčků) a přiblížení adresářové struktury.

### Části systému
Celý systém je rozdělen na samostatné logické celky, které jsou reprezentovány jako samostatně instalovatelné balíčky a jsou verzované v samostatných repositářích. Tyto balíčky jsou:	
- Jarvis App
- Jarvis Core,
- Jarvis CMS,
- Jarvis Shop,

![Rozdělení systému na balíčky - jednotlivé repositáře, zdroj gitlab.com](https://hanabrand.cz/temp/dp/balicky-systemu.png)

Systém je tedy tvořen samostatnými balíčky, které se instalují pomocí nástroje Composer. Zdrojové kódy těchto balíčků se po instalaci nacházejí v adresáři ,,vendor/" a z pohledu aplikace by nemělo docházet k úpravám jejich kódu (úpravy se s aktualizací balíčků zahodí).

**Jarvis App**
Základním balíčkem aplikace, balíček je typu "projekt", vytváří základní adresářovou strukturu aplikace a je závislý na balíčku "core". Pomocí tohoto balíčku lze tedy vytvořit samotnou aplikaci (instalací nadstaveb CMS nebo Shop).

**Jarvis Core**
Jádro aplikace, balíček je typu "knihovna". Vytváří všechny základní prostředky, kterými systém disponuje a zbytek aplikace je na těchto prostředcích závislý. Lze v něm tedy například nalézt základní modelovou strukturu aplikace, a základní komponenty systému.

**Jarvis CMS***
Balíček typu "knihovna", poskytuje funkcionality systému pro správu obsahu. Balíček je závislý na balíčku "Core". Obsahuje modelovou strukturu aplikace a funkcionality, které rozšiřují základní systém o správu obsahu - možnost správy kategorií a článků.

**Jarvis Shop**
Balíček typu "knihovna", poskytuje funkcionality e-commerce systému. Balíček je závislý na balíčku "Core" a "CMS". Obsahuje modelovou strukturu aplikace a funkcionality, které rozšiřují základní systém o funkce elektronického obchodu.

### Moduly
Základní systém je ve své vnitřní logice rozdělen na 3 moduly. Ty se vzájemně liší svými účely použití. Tyto moduly jsou:
- Admin
- Front
- Robot

TODO: obrázek 3 modulů

**Admin**
Modul Admin poskytuje administrační rozhraní celého systému. Na základě ACL přihlášenému uživateli správu administrovatelných entit, které se v celém systému nacházejí.

**Front**
Modul Front poskytuje rozhraní, které je výsledkem konfigurace systému v administračním rozhraní. Právě tento modul je zodpovědný mimo jiné například za prezentování zobrazení produktové kategorie návštěvníkům e-shopu, vložení produktu do košíku, vytvoření a dokončení objednávky, zobrazení detailu článku, atd.

**Robot**
Tento modul poskytuje služby pouze systému samotnému. Například se v tomto modulu nachází logika pro poskytování funkcionality ke zpracování obrázků. 

### Adresářová struktura
![Základní adresářová struktura aplikace, zdroj: náhled repositáře v administraci gitlab.com](https://hanabrand.cz/temp/dp/struktura-aplikace-jarvis-app.png)

Zprovozněná aplikace má následující kořenovou adresářovou a souborovou strukturu:
- app/ - konfigurační soubory, customizace systému (pomocí přepisování tříd a šablon),
- log/ - ukládání logů,
- temp/ - dočasné soubory (cache, doctrine proxy entity),
- vendor/ - nainstalované balíčky (závislosti) pomocí nástroje Composer,
- www/ - veřejně dostupné soubory (média, soubory šablon),
- .gitignore - konfigurace ignorovaných souborů GIT,
- composer.json - konfigurace závislostí aplikace,
- composer.lock - zámek verzí závislostí,
- init.php - inicializace aplikace,
- jarvis - přístupový bod konzolových příkazů,
- readme.md - informace o aplikaci.

## Modelová vrstva
Modelová vrstva aplikace obsahuje samotné entity, repositáře a kontejnery. Tato vrstva je obsažena v jádře systému a využívají ji všechny moduly společně.

### Entity
V aplikaci se využívá objektově relační mapování a tudíž je nutné každou relaci v databázi definovat jako entitu v podobě objektu. Entita (objekt) je pak nosičem stejných informací, jako je záznam v databázi.

**Seznam entit, které obsahuje balíček Core:**
- Address - adresa,
- Country - země,
- Image - obrázek,
- Language - jazyk,
- Menu - menu,
- MenuPage - stránka menu,
- MessageTemplate - šablona zpráv,
- Metadata - meta tagy,
- Route - stránka,
- User - uživatel,
- UserGroup - uživatelská skupina,
- UserRole - uživatelská role,
- UserRoleResource - oprávnění uživatelské role.

**Seznam entit, které obsahuje balíček CMS:**
- Article - článek,
- ArticleCategory - kategorie článků,
- ArticleImage - obrázek článku.

**Seznam entit, které obsahuje balíček Shop:**
- Currency - měna,
- Coupon - slevový kupón,
- Manufacturer - výrobce,
- Order - objednávka,
- OrderProduct - produkt objednávky,
- OrderProductAttribute - atribut produktu objednávky,
- OrderState - stav objednávky,
- Payment - platba,
- PaymentMethod - způsob platby,
- PaymentMethodType - typ způsobu platby,
- PaymentState - stav platby,
- PriceLevel - cenová úroveň,
- Product - produkt,
- ProductCategory - kategorie produktu,
- ProductComment - komentář k produktu,
- ProductImage - obrázek produktu,
- ProductParameter - parametr produktu,
- ProductPrice - cena produktu,
- ProductRate - hodnocení produktu,
- ProductRateImage - obrázek hodnocení produktu,
- ProductState - stav produktu,
- Shipping - doprava,
- ShippingMethod - způsob dopravy
- ShippingMethodType - typ způsobu dopravy,
- ShippingState - stav dopravy,
- Tax - daň,
- Warehouse - sklad,
- WarehouseProduct - produkt na skladě.

Každá entita pak definuje modelové schéma pomocí anotačního zápisu. Tento anotační zápis je za pomocí Doctrine následně transformován na strukturu databáze. Entity v systému tedy definují strukturu relací i datové typy 

### Repositáře
Každá entita má v systému vytvořený svůj vlastní repositář, který rozšiřuje funkcionalitu základního ,,EntityRepository". Díky tomu je možné v rámci vývoje jednoduše definovat vlastní metody přímo do konkrétních repositářů entit.

### Kontejnery
Ke každé entitě existuje i kontejner stejně jako existuje ke každé entitě repositář. Tento kontejner je definován jako služba (jeho instanci tedy poskytuje DI kontejner). Samotný kontejner je schopen poskytnout:
- název entity ke které se vztahuje,
- instanci manažera entit (řídí načítáním ukládání a mazání dat v úložišti - databázi),
- instanci repositáře entity,
- novou instanci entity.

### Fasády
Jelikož entita je sama o sobě pouze nosičem informací a neměla by obsahovat žádnou složitější logiku (např.: metody pro načtení všech obrázků produktu spolu se všemi obrázky všech variant produktu), byly vytvořeny fasády, ve kterých je možné definovat tyto pokročilé metody. Výhodou tohoto řešení je čisté oddělení informací uložených v entitě od pokročilých metod.

## Funkcionality systému
Systém poskytuje spoustu funkcionality, v této části popíšu ty nejvíce důležité a zajímavé.

### ACL
Veškerá funkcionalita v administrační části systému a většina v modulu Front je podmíněna příslušným oprávněním. Ty jsou spravovány v administrační části systému. Lze tak uživatelským rolím povolit oprávnění k příslušným akcím. Kontrola oprávnění je potlačena pouze v případě, že je požadavek spuštěn pomocí konzolového příkazu.

#### Uživatelské role
Uživatelská role slouží k definování systémových rolí uživatelů. Každému uživateli lze přiřadit právě jednu z těchto rolí.

#### Zdroje oprávnění
Zdroje oprávnění slouží k definici konkrétního oprávnění pro uskutečnění konkrétní akce v systému. Například oprávnění do administrační sekce, oprávnění k editaci produktů, oprávnění pro přístup do uživatelské sekce, atd.

### Asynchronní zpracování obrázků
Pro zobrazování obrázků je používáno asynchronní zpracování. To znamená, že žádný obrázek v obsahové části systému není zobrazen v originální podobě, místo toho se zobrazí systémem zpracovaný obrázek.

![Vývojový diagram procesu asynchronního generování obrázků, zdroj: vlastní zpracování](https://hanabrand.cz/temp/dp/generovani-obrazku-2.png?2)

Obrázek je nejprve v originální podobě nahrán na server, následně až při jeho zobrazení jej systém upraví do požadované formy. Ke zpracování obrázku pak dochází až při samotnému HTTP požadavku, kdy se prohlížeč pokusí stáhnout obsah (obrázek) na konkrétní URL, kterou pro vygeneroval systém. V této URL se nachází zakódované informace o tom, jak má být obrázek konkrétně zpracován. Pokud se obrázek v této formě na serveru nenachází, dojde ke spuštění úlohy systému, která obrázek upraví. Pro zpracovávání obrázků se používá standardní knihovna pro zpracovávání obrázků v Nette Framework.

### Automatické sestavování formulářů

Vytváření formulářů pro úpravy entit je zdlouhavé a díky velkému množství entit v systému i nepříliš zábavné. Proto byl vytvořen automatický generátor formulářů entit, který formuláře pro entity automaticky sestaví.

![Ukázka automaticky vygenerovaného formuláře pro úpravu měny, zdroj: administrační rozhraní Jarvis](https://hanabrand.cz/temp/dp/formular-automaticky.png)

Při zobrazení editace entity tedy stačí pouze nastavit, které vlastnosti entity nemají být zobrazeny, které jsou pouze pro čtení a generátor automaticky sestaví formulář pro úpravu entity. Logika mapování formulářů navíc dokáže namapovat entity na vygenerovaný formulář i zpět pro následnou validaci a uložení entity.
Popisky polí se vytváření pomocí překladače, popisek každého pole tedy lze pohodlně lokalizovat.

### Export entit do Elasticsearch

Kvůli tomu, že například pro výpis a filtrování produktů v kategoriích pro účely modulu Front je využíváno fulltextového vyhledávání pomocí Elasticsearch, je nutné entity (například produkty) do Elasticsearch exportovat.

Toho se docíleno tím, že na akci uložení entity do databáze pomocí manažera entit (kteý se stará o ukládání a načítání entit z databáze) je navázána akce, kdy se spouští logika exportéru.
Jeho úkolem je detekovat, zda je povoleno danou entitu exportovat, která data se v entitě změnila, zda tyto změny jsou z pohledu exportu do ElasticSearch pro další použití podstatná a případně zaregistrovat do fronty (RabbitMQ) pro zpracování exportu.

![Export entity do Elasticsearch, zdroj: vlastní zpracování](https://hanabrand.cz/temp/dp/Export-entit-do-Elasticsearch.png?2)

Samotný export je následně zpracován v paralelním vlákně, kde se exportér pokusí načíst entitu z databáze a pokud se nepodaří entitu načíst, došlo k jejímu odstranění a exportér odešle požadavek na Elasticsearch na smazání indexu. Pokud dojde k načtení entity z databáze, je entita dehydratována do podoby asociativního pole a odeslána do Elasticsearch k zaindexování.

### Import entit z Elasticsearch
Na základě vyhledávání v Elasticsearch jsou systému nazpět navrácena data, které indexy splňují kritéria dotazu vyhledávání. Aby nemuselo docházet k opětovnému načtení entit z databáze, bylo vytvořena logika pro hydrataci výsledků navrácených z Elasticsearch do plnohodnotných entit. S těmito entitami pak lze pracovat stejně, jako kdyby tyto entity byly načteny pomocí manažera entit z databáze.

![Import entity z Elasticsearch, zdroj: vlastní zpracování](https://hanabrand.cz/temp/dp/Import-entit-do-Elasticsearch.png)

### Lokalizace
Lokalizace systému je realizovaná na úrovni jazyků a měn. Administrátoři mají k dispozici nadefinovat jazyk a měny, které bude systém používat a vždy zvolí jeden jazyk a jednu měnu jako hlavní (výchozí). Výchozím jazykem celého systému je ve výchozím stavu angličtina, měna ve výchozím stavu není definovaná žádná.

Pokud je pak entita přeložitelná (existuje entita překladu konkrétní entity) je formulář pro úpravu entity automaticky rozšířen o překladová pole, které překládají vlastnosti entity do konkrétního jazyku.

![Formulář úpravy článku s překladem, zdroj: administrační rozhraní Jarvis](https://hanabrand.cz/temp/dp/formular-jazyky.png)

U cen produktů při přidání nové měny do systému dojde k automatickému rozšíření formuláře pro definici cen produktu i o definici do této měny. Administrátor má tedy možnost definovat cenu produktu v dané měně pro konkrétní cenovou hladinu. Pokud nejsou ceny v této měně definovány, dochází k automatickému přepočtu podle kurzu České Národní Banky. Pokud není definována cena pro konkrétní cenovou hladinu, dojde k automatickému přepočtu podle konfigurace cenové hladiny (ta udává o kolik procent bude cena snížena oproti základní cenové hladině - v základní cenové hladině pro základní měnu musí být cena definována).

![Konfigurace cen produktu, zdroj: administrační rozhraní Jarvis](https://hanabrand.cz/temp/dp/ceny-produktu.png)

Návštěvník má poté možnost přepnout si dostupné rozhraní do některého z nabízených jazyků a měn.

### Vytváření URL adres
Vytváření URL adres pro moduly Admin a Robot je realizováno pomocí jednoduchého statického routeru.

Pro modul Front jsou URL adresy sestavovány za pomocí Route entit. Ty se jako zbylé entity ukládají do databáze a systém díky nim dokáže obousměrně překládat mezi URL a akcí konkrétního presenteru. To má za následek, že entitám lze definovat uživatelsky přívětivé URL adresy.

Route entity jsou generovány automaticky na pozadí při manipulacích s ostatními entitami v systému, které podporují routování (implementují rozhraní IRoutable). Například, pokud je vytvořena entita Article (entita článku - podporuje routování), dojde i k automatickému vytvoření entity Route, která pomocí reference odkazuje na entitu článku. Jako URL adresa slouží název článku, který je převeden do podoby pro použití v URL adrese.

Pokud je daný článek upraven (a změní se například jeho název, který má podstatný vliv na tvorbu URL adresy), nedojde k aktualizaci entity Route, ale je vytvořena zcela nová a stará upravena tak, že již neodkazuje na entitu článku, ale na novou Route entitu. Výsledkem této funkcionality je automatické přesměrování starších URL adres (které mohou být již zaindexovány vyhledávači nebo na ně mohou odkazovat statické odkazy) na novou. Díky tomu je také zabráněno duplikaci stejného obsahu na více různých URL adresách, což má neblahý vliv na SEO.

### Administrační rozhraní
Administrační rozhraní systému se nachází na adrese "<doména>/administration". Pro vstup do administrace je nutné mít vytvořený uživatelský účet, kterému se přiřazena role s dostatečným oprávněním pro vstup do administrace. Pokud uživatel není přihlášen, je mu zobrazen formulář pro přihlášení. Pro zpestření zobrazení přihlašovací stránky je při každém jejím zobrazení načten náhodný obrázek za pomocí veřejně dostupné služby Unsplash Source.

![Přihlášení do administračního rozhraní systému, zdroj: administrační rozhraní Jarvis](https://hanabrand.cz/temp/dp/administrace-prihlaseni-0.jpg)

![Přihlášení do administračního rozhraní systému po změně obrázku, zdroj: administrační rozhraní Jarvis](https://hanabrand.cz/temp/dp/administrace-prihlaseni-2.jpg)

Po přihlášení je uživatel přesměrován již do plnohodnotného uživatelského rozhraní, konkrétně na nástěnku systému, kde vidí sumarizaci nejdůležitějších informací. 

![Nástěnka administračního rozhraní systému, zdroj: administrační rozhraní Jarvis](https://hanabrand.cz/temp/dp/administrace-dashboard.png?3)

Uživatel má v administraci možnost administrovat veškeré entity, které obsahuje systém a ke kterým má oprávnění editace. Může tedy například administrovat produkty, objednávky, uživatele,  a další entity.

Celé administrační rozhraní je navrženo tak, aby bylo pohodlně administrovatelné například z mobilního telefonu nebo tabletu - šablona administrace je tedy plně responzivní.

![Nástěnka administračního rozhraní systému, zdroj: vlastní zpracování](https://hanabrand.cz/temp/dp/responsivita.png)


### Uživatelské parametry
V administrační sekci lze definovat uživatelské parametry, které reprezentují konkrétní vlastnosti entit v systému a tyto vlastnosti těmto entitám přiřadit. Každý parametr musí být definovaný konkrétním typem, přičemž na výběr je z možností:
- číslo (number),
- textový řetězec (string),
- výběr stavu pravda / nepravda (boolean),
- výběr jedné z hodnot (select),
- výběr více hodnot (multiselect).

Takto lze například entitě produktu definovat vlastnost "velikost" s typem výběru jedné z hodnot "S", "M", "L".

![Ukázka výpisu definovaných uživatelských parametrů, zdroj: administrační rozhraní Jarvis](https://hanabrand.cz/temp/dp/parametry.png)

Tato funkcionalita má obrovskou výhodu při customizaci řešení, kdy konkrétní úpravy ve vlastnostech entit dle potřeb zákazníka se nemusí řešit na úrovni úpravy zdrojového kódu základního modelu entity, ale postačí vhodně nakonfigurovat uživatelské parametry a dle potřeby upravit například pouze šablonu pro jejich speciální výpis.

Navíc této funkcionality bylo využito i při výpisu variant produktů, kdy jsou jednotlivé varianty od sebe primárně odlišeny v rozdílných hodnotách uživatelských parametrů (vlastnostech).

### Varianty produktů
Ke každému produktu mohou být definovány jeho varianty. Ty jsou reprezentovány pomocí samostatných entit produktů, které ale odkazují na entitu hlavního produktu jako na svého rodiče.

To má svoji výhodu v tom, že takováto varianta může obsahovat svoje vlastní obrázky, parametry, dostupnost i ceny stejně, jako plnohodnotný produkt a na tuto variantu lze pak odkazovat stejně, jako na produkt.

Jednotlivé varianty produktů se pro zákaznický výběr detekují na základě odlišností v hodnotách uživatelských parametrů.

// TODO obrázek výběru varianty produktu

### Customizace systému
Customizaci, neboli specifická úprava systému dle přání zákazníka, lze provádět v systému dvojím způsobem:
- na úrovni přepisování služeb,
- na úrovni přepisování šablon.

### Přepisování služeb
Nette Framework umožňuje pomocí konfiguračních souborů NEON přepisovat již dříve definované konfigurace. V systému konfigurační soubory vyhledává knihovna Nette Config Finder, která je nastavena tak, aby nejprve vyhledávala konfigurační soubory v adresáři "vendor/", tedy aby načetla konfigurační soubory nainstalovaných balíčků a teprve poté vyhledá konfigurační soubory v adresáři "app/".

![Open-source rozšíření Nette Config Finder, zdroj: github.com](https://hanabrand.cz/temp/dp/nette-config-finder.png)

Automatické vyhledávání konfiguračních souborů a jejich import do systému má za následek, že při inicializaci systému ve spouštěcím souboru je nejprve načtena výchozí konfigurace systému z balíčku Jarvis Core (a dalších balíčků s konfigurací) a teprve následně je načtena konfigurace z adresáře "app/config", tedy konkrétní konfigurace pro aktuální instanci systému.
Konfigurace z adresáře "app/config", přepisuje základní konfiguraci nainstalovaných balíčků a díky tomu lze donutit systém využít mimo konfiguračních parametrů i jiné služby, než které standardně systém používá. Je tedy možné měnit základní logiky systému. 

### Přepisování šablon
Komponentový model systému je rozšířen o logiku vyhledání šablony pro konkrétní komponentu. Tato logika se nejprve pokusí vyhledat šablonu na základě cesty k řídícímu souboru komponenty v adresáři "app/" a pokud ji nenajde, požije výchozí svoji klasickou šablonu. 

## Redesign webu
// TODO

### Úvodní stránka
// TODO kecy + screen

### Detail produktu
// TODO kecy + screen

### Detail kategorie
// TODO kecy + screen

## Zhodnocení realizace
// TODO

### Statická analýza kódu
// TODO

### Plánovaný rozvoj
// TODO

### Finanční zhodnocení
// TODO
